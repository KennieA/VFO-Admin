@model WDAdmin.WebUI.Models.RegisterModel

@{
    ViewBag.Title = LangResources.CitizenRegisterPage;
}

<h4 class="alert_info">@LangResources.CitizenRegisterPageTitle</h4>

@using (Html.BeginForm()) {
    @Html.AntiForgeryToken()
    <article class="module width_full">
        <header><h3>@LangResources.CitizenRegisterPageDetailsHeader</h3></header> 
        <br /> 
        @Html.HiddenFor(m => m.UserGroupId)
        @Html.HiddenFor(m => m.Reference)
        <div class="display-label">
            @Html.LabelFor(m => m.Reference)
        </div>
        <div class="display-field">
            @Html.TextBoxFor(m => m.Reference, new { @disabled = "disabled" })
        </div>
        <div class="clear"></div>
        <div class="editor-label">
            @Html.LabelFor(m => m.SalaryNumber)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.SalaryNumber) 
            @Html.ValidationMessageFor(m => m.SalaryNumber)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.Firstname)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.Firstname)  
            @Html.ValidationMessageFor(m => m.Firstname)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.Lastname)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.Lastname)  
            @Html.ValidationMessageFor(m => m.Lastname)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.Username)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.Username)  
            @Html.ValidationMessageFor(m => m.Username)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.Password)
        </div>
        <div class="editor-field">
            @Html.PasswordFor(m => m.Password)  
            @Html.ValidationMessageFor(m => m.Password)
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.ConfirmPassword)
        </div>
        <div class="editor-field">
            @Html.PasswordFor(m => m.ConfirmPassword)  
            @Html.ValidationMessageFor(m => m.ConfirmPassword)
        </div>
        <br />
        <div class="editor-label">
            @LangResources.OptionalEmailField
        </div>
        <div class="editor-label">
            @Html.LabelFor(m => m.Email)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.Email)  
            @Html.ValidationMessageFor(m => m.Email)
        </div>
        <div class="clear"></div>
        <br />
        <input type="submit" value="@LangResources.Create" />
        <div class="clear"></div>
    </article>
}

@Html.ValidationSummary(true, LangResources.GeneralUserCreateError)

<script type="text/javascript">
    $(document).ready(function () {
        var number = $("#SalaryNumber").val();
        
        if (number == '0') {
            $("#SalaryNumber").val('');
        }
    });
</script>

@if (ViewBag.IsVisible)
{
    Html.RenderAction("CitizenCreateSuccess", "Account");
    <script type="text/javascript">
        $(':input').attr("disabled", true);
        $(':submit').hide();
        $('.module').append('<br />');
    </script>
}

@if (ViewBag.BlockFields)
{
    <script type="text/javascript">
        $(':input').attr("disabled", true);
        $(':submit').hide();
        $('.module').append('<br />');
    </script>
}